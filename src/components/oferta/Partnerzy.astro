---
// src/components/oferta/Partnerzy.astro

// Lista plików (nazwy bez rozszerzenia). 
// UPEWNIJ SIĘ, że pliki w folderze /public/logo/ nazywają się dokładnie tak + .jpg
const partners = [
  "GREE",
  "AUXlogo",
  "DAIKIN",
  "SAMSUNG",
  "PANASONIC",
  "KAISAI", 
  "SEVRA",
  "TOSHIBA",
  "MITSUBISHI", 
  "HAIER",
  "LG",
  "COOPER&HUNTER",
  "ROTENSO",
  "MDV",
  "FUJITSU",
  "FUJI_ELECTRIC" 
];

// Duplikujemy tablicę wielokrotnie, żeby pasek był długi i płynny na szerokich ekranach
const loopedPartners = [...partners, ...partners, ...partners];
---

<section class="bg-airtur-gray py-12 border-y border-gray-200 overflow-hidden">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8 text-center">
    
    <!-- Nagłówek i opis -->
    <h2 class="text-2xl md:text-3xl font-bold text-airtur-dark mb-4">
      Współpraca z Liderami: Nasi Partnerzy Technologiczni
    </h2>
    <p class="text-sm md:text-base text-gray-600 max-w-3xl mx-auto leading-relaxed">
      W AirTUR rygorystycznie dobieramy technologie. Instalujemy wyłącznie systemy sprawdzonych producentów, których urządzenia charakteryzują się najwyższą wydajnością, najlepszym współczynnikiem ROI i długoterminową niezawodnością.
    </p>

  </div>

  <!-- PASEK LOGOTYPÓW -->
  <div class="relative w-full">
    <!-- Gradienty po bokach dla estetycznego zanikania -->
    <div class="absolute top-0 left-0 h-full w-12 md:w-24 bg-gradient-to-r from-airtur-gray to-transparent z-10"></div>
    <div class="absolute top-0 right-0 h-full w-12 md:w-24 bg-gradient-to-l from-airtur-gray to-transparent z-10"></div>

    <!-- Kontener przesuwny -->
    <div class="logo-slider">
      <div class="logo-track flex items-center gap-12 md:gap-20">
        {loopedPartners.map((logo) => (
          <div class="flex-shrink-0 flex items-center justify-center h-16 w-32 md:w-40 grayscale hover:grayscale-0 transition-all duration-300 opacity-70 hover:opacity-100 hover:scale-110">
            <!-- Zakładam, że loga są w folderze /public/logo/ -->
            <img 
              src={`/logo/${logo}.jpg`} 
              alt={`Logo ${logo}`} 
              class="max-h-full max-w-full object-contain mix-blend-multiply" 
            />
          </div>
        ))}
      </div>
    </div>
  </div>

</section>

<style>
  /* Animacja płynnego przewijania (Infinite Marquee) */
  .logo-slider {
    width: 100%;
    overflow: hidden;
    white-space: nowrap;
  }

  .logo-track {
    display: inline-flex;
    /* Czas trwania animacji - im większa liczba, tym wolniej */
    animation: scroll 40s linear infinite; 
    width: max-content; /* Ważne: szerokość dopasowana do zawartości */
  }

  /* Zatrzymanie po najechaniu myszką */
  .logo-track:hover {
    animation-play-state: paused;
  }

  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      /* Przesuwamy o 33.33% bo zduplikowaliśmy listę 3 razy. 
         Gdy przesunie się o 1/3, wygląda identycznie jak początek, więc "przeskakuje" niezauważenie */
      transform: translateX(-33.33%); 
    }
  }
</style>